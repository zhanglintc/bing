<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">

    <script type="text/javascript" src="./jquery.min.v1.9.1.js"></script>

    <link rel="shortcut icon" href="./bing.ico"/>
    <link rel="bookmark" href="./bing.ico"/>

    <title>Bing Wallpaper by zhanglintc</title>
  </head>

  <style type="text/css">
    :root {
      --base-width: 484px;
      --base-height: 272px;
    }
    input {
      width: 20px;
    }
    img {
      width: calc(var(--base-width) * 1.5);
      height: calc(var(--base-height) * 1.5);
    }
    hr {
      display: block;
      unicode-bidi: isolate;
      margin-block-start: 0.5em;
      margin-block-end: 0.5em;
      margin-inline-start: auto;
      margin-inline-end: auto;
      overflow: hidden;
      border-style: inset;
      border-width: 1px;
    }
    .right_row {
      margin-left: calc(var(--base-width) * 1.5);
    }
    .one-vertical {
      display: flex;
      height: auto;
    }
    .img-container {
      margin-right: 5px;
      margin-bottom: 5px;
      width: calc(var(--base-width) * 1.5);
      height: calc(var(--base-height) * 1.5);
    }
    .desc-container {
      margin-right: 5px;
      margin-bottom: 5px;
      width: calc(var(--base-width) * 1.5);
      height: 28px;
    }
  </style>

  <body>
    <!-- structure -->
    <script type="text/javascript">
      for (let i = 0; i <= 6; i += 2) {
        document.write(`
          <div class="one-vertical">
            <div class="one-block">
              <div class="img-container">
                <a href="https://bing.zhanglintc.co/?daysAgo=${i}"> <img id="img${i}" src="https://bing.zhanglintc.co/?daysAgo=${i}"> </a>
              </div>
              <div class="desc-container">
                <span id="span${i}">${i} daysAgo</span>
              </div>
            </div>
            <div class="one-block">
              <div class="img-container">
                <a href="https://bing.zhanglintc.co/?daysAgo=${i+1}"> <img id="img${i+1}" src="https://bing.zhanglintc.co/?daysAgo=${i+1}"> </a>
              </div>
              <div class="desc-container">
                <span id="span${i+1}">${i+1} daysAgo</span>
              </div>
            </div>
          </div>
        `);

        if (i != 6) { document.write('<hr>'); }
      }
    </script>

    <!-- callback functions -->
    <script>
        function callback_img(description, daysAgo) {
            m_img = document.getElementById(`img${daysAgo}`);
            m_img.setAttribute("title", description);
            m_span = document.getElementById(`span${daysAgo}`);
            original = m_span.innerHTML;
            m_span.innerHTML = original + " / " + description;
        }
    </script>

    <!-- get jsonp data from server -->
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=0&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=1&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=2&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=3&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=4&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=5&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=6&callback=callback_img"></script>
    <script src="https://bing.zhanglintc.co/description_with_callback?daysAgo=7&callback=callback_img"></script>
  </body>
</html>
